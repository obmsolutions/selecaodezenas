<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Seleção de Dezenas</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        h1, h2 {
            color: #333;
            text-align: center;
        }
        .container {
            display: flex;
            flex-direction: column;
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .table-container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
        .quadrant {
            font-weight: bold;
            background-color: #e9e9e9;
        }
        .number-cell {
            cursor: pointer;
            position: relative;
            font-weight: bold;
            width: 40px;
            height: 40px;
            font-size: 16px;
        }
        /* Cores base */
        .prime {
            background-color: yellow;
        }
        .multiple3 {
            background-color: #90EE90; /* verde claro */
        }
        .multiple4 {
            background-color: #ADD8E6; /* azul claro */
        }
        .fibonacci {
            background-color: #FF9999; /* vermelho claro */
        }
        .default {
            background-color: #CCCCCC; /* cinza */
        }
        /* Combinações de cores */
        .prime.multiple3 {
            background: linear-gradient(135deg, yellow 0%, yellow 50%, #90EE90 50%, #90EE90 100%);
        }
        .prime.fibonacci {
            background: linear-gradient(135deg, yellow 0%, yellow 50%, #FF9999 50%, #FF9999 100%);
        }
        .multiple3.fibonacci {
            background: linear-gradient(135deg, #90EE90 0%, #90EE90 50%, #FF9999 50%, #FF9999 100%);
        }
        .multiple3.multiple4 {
            background: linear-gradient(135deg, #90EE90 0%, #90EE90 50%, #ADD8E6 50%, #ADD8E6 100%);
        }
        .prime.multiple3.fibonacci {
            background: linear-gradient(135deg, yellow 0%, yellow 33%, #90EE90 33%, #90EE90 66%, #FF9999 66%, #FF9999 100%);
        }
        .prime.multiple3.multiple4 {
            background: linear-gradient(135deg, yellow 0%, yellow 33%, #90EE90 33%, #90EE90 66%, #ADD8E6 66%, #ADD8E6 100%);
        }
        .prime.multiple4.fibonacci {
            background: linear-gradient(135deg, yellow 0%, yellow 33%, #ADD8E6 33%, #ADD8E6 66%, #FF9999 66%, #FF9999 100%);
        }
        .multiple3.multiple4.fibonacci {
            background: linear-gradient(135deg, #90EE90 0%, #90EE90 33%, #ADD8E6 33%, #ADD8E6 66%, #FF9999 66%, #FF9999 100%);
        }
        .prime.multiple3.multiple4.fibonacci {
            background: linear-gradient(135deg, yellow 0%, yellow 25%, #90EE90 25%, #90EE90 50%, #ADD8E6 50%, #ADD8E6 75%, #FF9999 75%, #FF9999 100%);
        }
        .selected {
            position: relative;
        }
        .selected::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 28px; /* Tamanho proporcional à fonte */
            height: 28px;
            background-color: #736DED;
            border-radius: 50%;
            opacity: 0.3; /* Efeito marca d'água */
            pointer-events: none;
            z-index: 1;
        }
        .selected span {
            position: relative;
            z-index: 2;
        }
        .search-section {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }
        input, button {
            padding: 8px 12px;
            border-radius: 4px;
            border: 1px solid #ddd;
        }
        button {
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
            border: none;
        }
        button:hover {
            background-color: #45a049;
        }
        .stats-table th {
            background-color: #4CAF50;
            color: white;
        }
        .stats-table td {
            text-align: left;
            padding: 12px;
        }
        .highlight {
            font-weight: bold;
            color: navy;
        }
        .quadrant-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: space-between;
        }
        .quadrant-table {
            width: 48%;
            margin-bottom: 20px;
        }
        @media (max-width: 768px) {
            .quadrant-table {
                width: 100%;
            }
        }
        /* Cores para a Tabela 2 */
        .stats-table tr:nth-child(1) td {
            background-color: yellow;
        }
        .stats-table tr:nth-child(2) td {
            background-color: #90EE90; /* verde claro */
        }
        .stats-table tr:nth-child(3) td {
            background-color: #ADD8E6; /* azul claro */
        }
        .stats-table tr:nth-child(4) td {
            background-color: #FF9999; /* vermelho claro */
        }
        .stats-table tr:nth-child(5) td {
            background-color: #CCCCCC; /* cinza */
        }
        /* Estilo do botão do WhatsApp */
        .whatsapp-button {
            background-color: #25D366;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            text-decoration: none;
            display: inline-block;
            margin-top: 10px;
            font-weight: bold;
        }
        .whatsapp-button:hover {
            background-color: #128C7E;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Sistema de Análise de Dezenas</h1>
        
        <div class="table-container">
            <h2>Tabela 1 - Dezenas por Quadrantes (01-60)</h2>
            <div class="quadrant-container">
                <!-- Quadrante 1 -->
                <table class="quadrant-table">
                    <thead>
                        <tr>
                            <th colspan="5" class="quadrant">Quadrante 1 (01-05, 11-15, 21-25)</th>
                        </tr>
                    </thead>
                    <tbody id="quadrant1">
                        <!-- Numbers will be generated by JavaScript -->
                    </tbody>
                </table>
                
                <!-- Quadrante 2 -->
                <table class="quadrant-table">
                    <thead>
                        <tr>
                            <th colspan="5" class="quadrant">Quadrante 2 (06-10, 16-20, 26-30)</th>
                        </tr>
                    </thead>
                    <tbody id="quadrant2">
                        <!-- Numbers will be generated by JavaScript -->
                    </tbody>
                </table>
                
                <!-- Quadrante 3 -->
                <table class="quadrant-table">
                    <thead>
                        <tr>
                            <th colspan="5" class="quadrant">Quadrante 3 (31-35, 41-45, 51-55)</th>
                        </tr>
                    </thead>
                    <tbody id="quadrant3">
                        <!-- Numbers will be generated by JavaScript -->
                    </tbody>
                </table>
                
                <!-- Quadrante 4 -->
                <table class="quadrant-table">
                    <thead>
                        <tr>
                            <th colspan="5" class="quadrant">Quadrante 4 (36-40, 46-50, 56-60)</th>
                        </tr>
                    </thead>
                    <tbody id="quadrant4">
                        <!-- Numbers will be generated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div>
                <h3>Dezenas selecionadas:</h3>
                <div id="selectedNumbers"></div>
                <button id="whatsappButton" class="whatsapp-button">Enviar seleção via WhatsApp</button>
            </div>
        </div>
        
        <div class="table-container">
            <h2>Tabela 2 - Análise Estatística</h2>
            
            <div class="search-section">
                <label for="contestNumber">Nº do concurso:</label>
                <input type="number" id="contestNumber" placeholder="Digite o número do concurso">
                <button id="searchButton">Buscar</button>
            </div>
            
            <table class="stats-table">
                <thead>
                    <tr>
                        <th>LÓGICA</th>
                        <th>ESTATÍSTICA</th>
                        <th>OBSERVAÇÕES</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Nº Primo</td>
                        <td>32% 2 dezenas<br>28% 1 dezena<br>20% ≥ 3 dezenas</td>
                        <td id="primesObs">-</td>
                    </tr>
                    <tr>
                        <td>Múltiplos de 3</td>
                        <td>34% 2 dezenas<br>28% 1 dezena<br>20% 3 dezenas</td>
                        <td id="multiples3Obs">-</td>
                    </tr>
                    <tr>
                        <td>Múltiplos de 4</td>
                        <td>28% 2 dezenas<br>26% 1 dezena<br>26% nenhuma dezena</td>
                        <td id="multiples4Obs">-</td>
                    </tr>
                    <tr>
                        <td>Fibonacci</td>
                        <td>42% 1 dezena<br>28% nenhuma dezena<br>28% 2 dezenas</td>
                        <td id="fibonacciObs">-</td>
                    </tr>
                    <tr>
                        <td>Outras Dezenas</td>
                        <td>Dezenas que não se enquadram nos critérios acima</td>
                        <td id="otherObs">-</td>
                    </tr>
                    <tr>
                        <td>Dezenas do Sorteio Anterior</td>
                        <td>45% nenhuma dezena<br>40% Até uma dezena<br>14% mais de duas</td>
                        <td id="previousObs">-</td>
                    </tr>
                    <tr>
                        <td>Par/Ímpar</td>
                        <td>34% (3P/3I)<br>18% (4P/2I)<br>16% (2P/4I)</td>
                        <td id="parityObs">-</td>
                    </tr>
                    <tr>
                        <td>Balanceamento de Quadrantes</td>
                        <td>60% 3 quadrantes<br>38% 4 quadrantes<br>2% 2 quadrantes</td>
                        <td id="quadrantsObs">-</td>
                    </tr>
                    <tr>
                        <td>Linhas Horizontais</td>
                        <td>54% 4 linhas<br>32% 5 linhas<br>14% 3 Linhas</td>
                        <td id="linesObs">-</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Fibonacci numbers up to 60
        const fibonacciNumbers = [1, 2, 3, 5, 8, 13, 21, 34, 55];
        
        // Function to check if a number is prime
        function isPrime(num) {
            if (num <= 1) return false;
            if (num === 2) return true;
            for (let i = 2; i <= Math.sqrt(num); i++) {
                if (num % i === 0) return false;
            }
            return true;
        }
        
        // Function to generate a row of numbers
        function generateNumberRow(start, end) {
            const row = document.createElement('tr');
            
            for (let num = start; num <= end; num++) {
                const classes = [];
                if (isPrime(num)) classes.push('prime');
                if (num % 3 === 0) classes.push('multiple3');
                if (num % 4 === 0) classes.push('multiple4');
                if (fibonacciNumbers.includes(num)) classes.push('fibonacci');
                if (classes.length === 0) classes.push('default');
                
                const td = document.createElement('td');
                td.className = `number-cell ${classes.join(' ')}`;
                
                // Adiciona um span para o número para controlar o z-index
                const span = document.createElement('span');
                span.textContent = num.toString().padStart(2, '0');
                td.appendChild(span);
                
                td.dataset.number = num;
                
                td.addEventListener('click', function() {
                    this.classList.toggle('selected');
                    updateSelectedNumbers();
                    updateStatistics();
                });
                
                row.appendChild(td);
            }
            
            return row;
        }
        
        // Generate the numbers tables for each quadrant
        function generateQuadrantTables() {
            // Quadrant 1: 01-05, 11-15, 21-25
            const quadrant1 = document.getElementById('quadrant1');
            quadrant1.appendChild(generateNumberRow(1, 5));
            quadrant1.appendChild(generateNumberRow(11, 15));
            quadrant1.appendChild(generateNumberRow(21, 25));
            
            // Quadrant 2: 06-10, 16-20, 26-30
            const quadrant2 = document.getElementById('quadrant2');
            quadrant2.appendChild(generateNumberRow(6, 10));
            quadrant2.appendChild(generateNumberRow(16, 20));
            quadrant2.appendChild(generateNumberRow(26, 30));
            
            // Quadrant 3: 31-35, 41-45, 51-55
            const quadrant3 = document.getElementById('quadrant3');
            quadrant3.appendChild(generateNumberRow(31, 35));
            quadrant3.appendChild(generateNumberRow(41, 45));
            quadrant3.appendChild(generateNumberRow(51, 55));
            
            // Quadrant 4: 36-40, 46-50, 56-60
            const quadrant4 = document.getElementById('quadrant4');
            quadrant4.appendChild(generateNumberRow(36, 40));
            quadrant4.appendChild(generateNumberRow(46, 50));
            quadrant4.appendChild(generateNumberRow(56, 60));
        }
        
        // Update the selected numbers display
        function updateSelectedNumbers() {
            const selectedCells = document.querySelectorAll('.number-cell.selected');
            const selectedNumbersDiv = document.getElementById('selectedNumbers');
            
            const numbers = Array.from(selectedCells).map(cell => cell.dataset.number);
            selectedNumbersDiv.textContent = numbers.length > 0 ? 
                numbers.join(', ') : 'Nenhuma dezena selecionada';
        }
        
        // Update the statistics table
        function updateStatistics() {
            const selectedCells = document.querySelectorAll('.number-cell.selected');
            const selectedNumbers = Array.from(selectedCells).map(cell => parseInt(cell.dataset.number));
            
            // Function to format numbers with navy color
            function formatNumbers(nums) {
                return nums.length > 0 ? 
                    `${nums.length} dezena(s) selecionada(s): <span class="highlight">${nums.join(', ')}</span>` : 
                    'Nenhuma dezena selecionada';
            }
            
            // Count primes
            const primes = selectedNumbers.filter(isPrime);
            document.getElementById('primesObs').innerHTML = formatNumbers(primes);
            
            // Count multiples of 3
            const multiples3 = selectedNumbers.filter(num => num % 3 === 0);
            document.getElementById('multiples3Obs').innerHTML = formatNumbers(multiples3);
            
            // Count multiples of 4
            const multiples4 = selectedNumbers.filter(num => num % 4 === 0);
            document.getElementById('multiples4Obs').innerHTML = formatNumbers(multiples4);
            
            // Count Fibonacci numbers
            const fibNumbers = selectedNumbers.filter(num => fibonacciNumbers.includes(num));
            document.getElementById('fibonacciObs').innerHTML = formatNumbers(fibNumbers);
            
            // Other numbers
            const otherNumbers = selectedNumbers.filter(num => 
                !isPrime(num) && num % 3 !== 0 && num % 4 !== 0 && !fibonacciNumbers.includes(num)
            );
            document.getElementById('otherObs').innerHTML = formatNumbers(otherNumbers);
            
            // Parity (even/odd)
            const even = selectedNumbers.filter(num => num % 2 === 0);
            const odd = selectedNumbers.filter(num => num % 2 !== 0);
            document.getElementById('parityObs').innerHTML = `
                ${selectedNumbers.length > 0 ? 
                    `${even.length} par(es) (<span class="highlight">${even.join(', ')}</span>), ${odd.length} ímpar(es) (<span class="highlight">${odd.join(', ')}</span>)` : 
                    '-'}
            `;
            
            // Quadrants
            const quadrants = {
                q1: selectedNumbers.filter(num => 
                    (num >= 1 && num <= 5) || (num >= 11 && num <= 15) || (num >= 21 && num <= 25)),
                q2: selectedNumbers.filter(num => 
                    (num >= 6 && num <= 10) || (num >= 16 && num <= 20) || (num >= 26 && num <= 30)),
                q3: selectedNumbers.filter(num => 
                    (num >= 31 && num <= 35) || (num >= 41 && num <= 45) || (num >= 51 && num <= 55)),
                q4: selectedNumbers.filter(num => 
                    (num >= 36 && num <= 40) || (num >= 46 && num <= 50) || (num >= 56 && num <= 60))
            };
            
            const activeQuadrants = Object.values(quadrants).filter(q => q.length > 0).length;
            let quadrantsText = `${activeQuadrants} quadrante(s) ativo(s) - `;
            
            for (const [q, nums] of Object.entries(quadrants)) {
                if (nums.length > 0) {
                    quadrantsText += `Q${q.substring(1)}: ${nums.length} (<span class="highlight">${nums.join(', ')}</span>); `;
                }
            }
            
            document.getElementById('quadrantsObs').innerHTML = selectedNumbers.length > 0 ? 
                quadrantsText : '-';
            
            // Lines (assuming each row in the quadrant is a "line")
            const lines = {};
            const allRows = document.querySelectorAll('tbody tr');
            selectedNumbers.forEach(num => {
                const cell = document.querySelector(`.number-cell[data-number="${num}"]`);
                if (cell) {
                    const rowIndex = Array.from(allRows).indexOf(cell.closest('tr'));
                    if (!lines[rowIndex]) lines[rowIndex] = [];
                    lines[rowIndex].push(num);
                }
            });
            
            let linesText = `${Object.keys(lines).length} linha(s) - `;
            for (const [line, nums] of Object.entries(lines)) {
                linesText += `Linha ${parseInt(line)+1}: ${nums.length} (<span class="highlight">${nums.join(', ')}</span>); `;
            }
            
            document.getElementById('linesObs').innerHTML = selectedNumbers.length > 0 ? 
                linesText : '-';
        }
        
        // Function to send via WhatsApp
        function sendViaWhatsApp() {
            const selectedCells = document.querySelectorAll('.number-cell.selected');
            const numbers = Array.from(selectedCells).map(cell => cell.dataset.number);
            
            if (numbers.length === 0) {
                alert('Por favor, selecione pelo menos uma dezena antes de enviar.');
                return;
            }
            
            const message = `Olá Orzinei, segue as dezenas selecionadas para o próximo concurso: ${numbers.join(', ')}`;
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank');
        }
        
        // Search contest (mock function)
        document.getElementById('searchButton').addEventListener('click', function() {
            const contestNumber = document.getElementById('contestNumber').value;
            if (!contestNumber) {
                alert('Por favor, insira o número do concurso');
                return;
            }
            
            // In a real implementation, this would fetch from the API
            alert(`Buscando concurso ${contestNumber} na API da Caixa Econômica Federal... (simulação)`);
            
            // For demo purposes, we'll just clear the selection
            document.querySelectorAll('.selected').forEach(cell => cell.classList.remove('selected'));
            updateSelectedNumbers();
            updateStatistics();
        });
        
        // Initialize the tables when the page loads
        window.addEventListener('DOMContentLoaded', function() {
            generateQuadrantTables();
            
            // Add event listener for WhatsApp button
            document.getElementById('whatsappButton').addEventListener('click', sendViaWhatsApp);
        });
    </script>
</body>
</html>